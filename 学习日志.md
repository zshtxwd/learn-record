***此日志用来记录在工作中遇到的常见问题、学习心得、项目经验等***



#### 2023/6/7



##### function* 生成器函数

这种声明方式 (function关键字后跟一个星号）会定义一个生成器函数 (generator function)，它返回一个 Generator 对象。

```javascript
function* generator(i) {
  yield i;
  yield i + 10;
  yield i + 100;
}

const gen = generator(1);

console.log(gen.next().value);
// Expected output: 1

console.log(gen.next().value);
// Expected output: 11

console.log(gen.next().value);
// Expected output: 101

console.log(gen.next().value);
//Expected output: undefined
```



##### 代码写法:`props.class && props.info?.status == 1 &&<div/>`


```jsx
props.class && props.info?.status == 1 &&<div/>
```
因为&&执行的时候先看左侧，如果左侧为假则结果为假不会去判断右侧，当左侧为真的时候，&&右侧的结果就是最终结果，而在这里就是当“props.class && props.info?.status == 1”为真的时候去执行右侧，将右侧代码作为结果，<div/>为真，但还没完因为这里是jsx文件，所以右侧代码执行的时候会将<div/>结构加载，所以整个代码的意思就是 :
```jsx
if（props.class && props.info?.status == 1）{return <div/>}
```



##### ?.可选链操作符

?. 是可选链操作符（Optional Chaining Operator），它是 JavaScript 中的一个语法特性。它用于在访问对象属性时进行安全的、避免错误的链式操作。

当你使用 ?. 访问对象属性时，它会在属性链中进行安全导航。***如果遇到 null 或 undefined 的属性，表达式的结果将为 undefined，而不会引发错误***。这对于处理可能存在不存在的属性的情况非常有用。

在你提供的代码中，props.info?.status 表达式中的 ?. 用于访问 props.info 对象的 status 属性，如果 props.info 为 null 或 undefined，那么整个表达式的结果将为 undefined，而不会导致错误。

使用可选链操作符 ?. 可以简化代码，并避免在属性链中出现 null 或 undefined 时引发的错误。它在处理深层嵌套的对象属性时特别有用。

请注意，可选链操作符 ?. 是在 ECMAScript 2020（ES11）中引入的，因此确保你的 JavaScript 运行环境支持该特性。

```javascript
props.info?.status==1
```

这里就是如果info中没有status这个属性也不会报错，因为会将null当做undefined来进行处理



##### 代码写法：`<div onClick={() => {props.onChange(props.info.id)}}>`

```jsx
<div onClick={() => {props.onChange(props.info.id)}}>
```

用来***将特定的参数传递给事件处理函数***：参数传递：通过箭头函数，可以将 `props.info.id` 作为参数传递给 `props.onChange` 函数。这样做的目的是在点击事件发生时，将特定的标识（`props.info.id`）传递给事件处理函数，以便在事件处理函数中使用该标识



#### 2023/6/8



##### 编程思想`const ACCRenderDATA = account_list.slice((page - 1) * 3, page * 3)`

account_list代表获取到的所有列表信息

3代表每一页展示3个信息

page代表当前页数

使用slice进行截取就可以在数据量很小，非必要后端分页的时候，实现前端分页，每一次page改变都会去截取到对应范围的元素

我早些时候是通过将一维数组转化成新数组每一个元素包含旧数组三个元素的二维数组形式



##### 代码写法：`render: (t) =>t ? moment.unix(t).format('YYYY-MM-DD HH:mm:ss') : '——'`

```javascript
render: (t) =>  t ? moment.unix(t).format('YYYY-MM-DD HH:mm:ss') : '——'

//和

render: (t) => { t ? moment.unix(t).format('YYYY-MM-DD HH:mm:ss') : '——'}
```

加{}和不加{}的区别在于，前者是一个代码段，在不设置返回值的情况下会返回undefined，后者则会返回语句执行结果



#### 2023/6/13



##### 错误反省：参数错误，导致网络请求发不出去

以后接口使用统一格式，接口以内的地方全部自己重写

不要出现使用别人写的代码自己又没完全看明白的情况

以后params的参数，全部自己验证一遍，确保取到正确的值再做网络请求

以后做网络请求的所有参数一定要自己知道是长什么样的，能一眼看出来是对的还是错的

params参数出现问题的情况下，不做网络请求，疑似被拦截

看网络请求传的参数，真的太重要了

##### 开发心得：network调试面板

除了console控制台，还要学会看network

看看自己的请求头、传过来的响应头和自己发的参数是否正确

做网络请求要看network

遇到要传的值和传过来的值字段其实是相同的但不同名的情况时，要使用解构赋值重命名

`{name: account}=this.res.data`

这里将res.data中的name属性取出来，重命名为account

##### 项目知识：为什么使用localStorage

- 安全性

localStorage和sessionStorage没有安全性问题，在发送请求时不会带上

而cookie会在发送请求时带上，会有安全性问题

- 存储时长

localStorage可以长期保存

而sessionStorage在关闭浏览器窗口时就会清除

cookie可以设置保存时长



#### 2023/6/19



##### 错误反省：分页器只显示第一页，不显示后续页码

获取表格数据源时，如果表格使用了分页器，需要在做网络请求的地方，将相应数据中的total（数据总量）更新并传给分页器的total属性

否则只显示第一页，不会显示后续页码

原因是分页器需要total和pageSize才能计算出有多少页，页码数=total/pageSize

##### 开发心得：复制代码

复制代码需要抓住重点，定位功能流程而不是定位到相同的关键字

例如某行代码是在做完网络请求后才执行的，要把他定位复制到做网络请求后

而不是定位这行代码之前之后的代码长什么样

##### 心态调整：心态放平，稳中求胜

别人看你敲代码，改bug的时候不要慌，不要担心自己速度太慢，以后你有经验了更熟悉了，你的速度自然也会很快

现在不要急，慢慢按你的节奏来就行，不要做事不经大脑思考，反而更容易出错

错过一遍的东西，一定不要错第二遍

当然，你还需要更熟悉项目代码和相关组件的API

明天的我更强大，比个yeah！



#### 2023/6/20



##### 心态调整：调整个屁，我到现在都没缓回来

我是20号的我，今天提了离职申请，我想对19号的我说一句，去你妈的更强大，你就是个jb

重整旗鼓，复习所有技术栈，重启八股文，更新简历，自我介绍，着重于工作经历，项目经历



#### 2023/8/9



##### 心态调整：时隔50天，我终于找到新工作了

这50天，我失去了太多，受了太多伤，无数次迷茫，无数次失望，无数次毫无征兆的流泪，无数次夜深人静的叹息

我离开了女友在的城市，我失去了曾经幻想的平淡生活，下一次的见面遥遥无期，下一份工作没有任何迹象

看着熟悉的人在自己的事业上稳稳进步，我心底是羡慕又嫉妒，我后悔自己曾经的决定，我否定自己的做出的选择

等来了面试，通过了居然还有一周的入职测试，通过了才能试用期，还没有工资

我问过的在这行做的人都劝我不要去，坑人的，但我也没有选择

本着在家里也没事做，不如去试试的态度，我一个人坐上了去杭州的高铁，哦，不对，我是无座站票

入职测试还挺难的，我觉得，样式太复杂，功能太花哨，可我只会写对样式没什么要求的后台管理系统，只会在已有的系统上增增改改

就在昨天，入职测试的第二天，我觉得自己搞不定，我难受，我给女朋友打电话，暴露我的无能，给母亲打电话，给妈妈增加压力

我生命中重要的女人，虽然她们对这些一窍不通，但一个愿意为我兜底，一个愿意相信我

父亲虽然天天被我妈指责不干人事，但他真的很会安慰人：

"呜呜呜...别人现在都在赚钱，我却只能花家里的钱..."

"这有什么，以后有工作了，你使劲干不就行了，把以前没干的都补上来，干到你吐了为止”

现在我终于有新工作了

##### 干到干吐了为止

